/* IMPORT */
import Server from '../server/index.js';
import Req from '../server/req.js';
import Res from '../server/res.js';
/* MAIN */
class EdgeServer extends Server {
    /* API */
    async fetch(request) {
        const body = new Uint8Array(await request.arrayBuffer());
        const headers = request.headers;
        const method = request.method;
        const url = request.url;
        const options = { body, headers, method, url };
        const req = new Req(options);
        const res = new Res();
        await this.handle(req, res);
        return new Response(res.body, {
            status: res.statusCode,
            headers: res.headers.headers
        });
    }
}
/* EXPORT */
export default EdgeServer;
export { Req, Res };
